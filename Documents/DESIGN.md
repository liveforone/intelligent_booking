# 전체 설계

## 분리 원칙
* 확장성 있는 설계를 위해서 각 도메인별 공통으로 사용하는 모듈이 아니라면 분리한다.
* 특히나 예외처리와 관련되어서도 exceptionMessage, exception, controller advice까지 모두 분리한다.
* 이러한 분리는 향후, 도메인을 쪼개는 msa로의 마이그레이션과 같은 분산 시스템을 사용하게 될때에도 유용하게 작용한다.

## setter
* 자바의 보일러 코드를 없앨 목적으로 만들어진 코틀린인만큼, 코틀린의 기능을 100% 활용해야한다고 생각한다.
* 이에 따라 setter를 막는 다양한 방법들을 사용하게되면, 또 보일러 코드가 생성된다.
* 따라서 setter는 머릿속에서 지우고, 사용하지 않도록한다. 아니 setter는 아예 모르는 거다.
* 변경은 기존의 자바코드로 했던 방법과 같이 변경 메서드를 만들어서 처리하도록한다.
* 팀으로 개발을 진행할 때에도 보일러코드를 남기지 않기위해, 팀 컨벤션으로 setter를 아예 사용하지 않는것을 기본으로 한다.
* trade off의 영역이다. 컨벤션으로 맞추자.

## 외부 식별자 타입
* 외부 식별자 타입은 바이너리 16으로 설정한다.
* 이는 필요하지 않은 공간을 더 사용하지 않기 위함이며, 길이가 정해져있는 uuid의 특성때문에 사용가능하다.

## @Enumerated 대신에 Converter를 사용
* 스프링 부트 3.0.0 버전에서 @Enumerated 어노테이션이 작동하지 않는 문제가 발생했다.
* 이러한 문제로 해당 어노테이션을 불신하게 되었고, 코드로 동작하는 converter를 이용해서 타입을 변경하도록 한다.

## 유틸성 함수는 최상위 함수로 선언
* 유틸성 함수들은 최상위 함수로 선언하여 좀더 간결하게 표현한다.

## 밸리데이션 함수
* 밸리데이션 함수(require, check)사용시 논리를 잘 생각해야한다.
* 또한 커스텀 예외를 터뜨리려먼 {}안에 throw 반드시 선언해야한다.

## 조인
* 원하는 필드만 조회하거나, 연관관계가 조건절에만 사용되는 경우에는
* fetch join을 피하고, join을 사용하라.